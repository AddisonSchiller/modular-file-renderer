{% extends "base.html" %}

{% block content %}
    {{ super() }}
    <div>
        <h1>Welcome!</h1>
        <p>Below are files in the modular-file-renderer/player/files folder. Click-able links are those that the renderer can detect.</p>
        <ul>
            {% if files %}
                {% for filename, handler_dict in files %}
                    <li><span>Render {{ filename }} with:</span>
                        {%  for handler in handler_dict %}
                            <div>
                                <a href="{{ url_for('render.render_with', filename=filename, handler_name=handler.name) }}">{{  handler.name  }}</a>
                                {% if handler_dict[handler] %}
                                    <span> Export as:</span>
                                        <select onchange="location = this.options[this.selectedIndex].value;">
                                            <option>--Select format---</option>
                                            {% for exporter in handler_dict[handler] %}
                                                <option value={{ url_for('render.export_with', exporter=exporter, handler_name=handler.name, filename=filename) }}>{{ exporter }}</option>
                                            {% endfor %}
                                        </select>
                                {%  endif %}
                            </div>
                        {%  endfor %}
                    </li>
{#                    {% endif %}#}
                {% endfor %}
            {% else %}
                <li>No files found. Perhaps try adding some?</li>
            {% endif %}
        </ul>
    </div>
{% endblock %}